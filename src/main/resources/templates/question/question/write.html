<html layout:decorate="~{/common/layout/layout}">
<div layout:fragment="content" class="mx-auto max-w-2xl px-4 my-10">
    <div class="bg-white/80 backdrop-blur border rounded-2xl shadow-sm p-8">
        <header class="mb-6">
            <h2 class="text-2xl font-semibold tracking-tight">질문 등록</h2>
            <p class="mt-1 text-sm text-gray-500">궁금한 내용을 자세히 적어주세요.</p>
        </header>

        <!-- 등록 성공 알림 -->
        <div role="alert" th:if="${question != null}"
             class="mb-6 rounded-xl border border-green-200 bg-green-50 px-4 py-3 text-sm text-green-800">
            <div class="font-medium">질문이 등록되었습니다.</div>
            <div class="mt-1 space-x-1">
                <span th:text="${question.id}"></span>
                <span>/</span>
                <span th:text="${question.subject}"></span>
                <span>/</span>
                <span th:text="${question.content}"></span>
                <span>/</span>
                <span th:text="${#temporals.format(question.createdDate, 'yyyy.MM.dd HH:mm')}"></span>
            </div>
        </div>

        <form method="post" th:action="@{/questions/create}" th:object="${form}" class="space-y-5">
            <!-- 제목 -->
            <div>
                <label for="subject" class="block text-sm font-medium text-gray-700">제목</label>
                <input
                        id="subject"
                        type="text"
                        th:field="*{subject}"
                        placeholder="제목"
                        autofocus
                        required
                        class="mt-2 w-full rounded-xl border border-gray-300 bg-white px-4 py-3 text-gray-900 shadow-sm outline-none focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500"
                />
                <p class="mt-2 text-xs text-red-600" th:if="${#fields.hasErrors('subject')}" th:errors="*{subject}">제목 오류</p>
            </div>

            <!-- 내용 -->
            <div>
                <label for="content" class="block text-sm font-medium text-gray-700">내용</label>
                <textarea
                        id="content"
                        th:field="*{content}"
                        placeholder="내용"
                        rows="8"
                        required
                        class="mt-2 w-full resize-y rounded-xl border border-gray-300 bg-white px-4 py-3 text-gray-900 shadow-sm outline-none focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500"
                ></textarea>
                <p class="mt-2 text-xs text-red-600" th:if="${#fields.hasErrors('content')}" th:errors="*{content}">내용 오류</p>
            </div>

            <!-- 액션 -->
            <div class="pt-2 flex items-center gap-3">
                <input
                        type="submit"
                        value="등록하기"
                        class="cursor-pointer rounded-xl bg-indigo-600 px-5 py-3 text-white font-medium shadow-sm transition hover:bg-indigo-700 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-500"
                />
                <a th:href="@{/questions/list}"
                   class="rounded-xl border px-5 py-3 text-gray-700 hover:bg-gray-50">
                    목록으로
                </a>
            </div>
        </form>
    </div>
</div>
</html>